---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "webrequest_restcall Resource - webrequest"
subcategory: ""
description: |-
  This resource interact with any rest like endpoint. All CRUD types are handled during lifetime of this resource. fresh resource generate a create request, refreshing resource state result in a read action, updating a attribute perform after apply a update action (partial update isn't supported) and finally deleting the resource performs a delete request the primary key ob the resulting object is append to the url You can use the placeholer {ID} in URL and Body attribute to append or add the resource id(primary key value) to your request
---

# webrequest_restcall (Resource)

This resource interact with any rest like endpoint. All CRUD types are handled during lifetime of this resource. fresh resource generate a create request, refreshing resource state result in a read action, updating a attribute perform after apply a update action (partial update isn't supported) and finally deleting the resource performs a delete request the primary key ob the resulting object is append to the url You can use the placeholer {ID} in URL and Body attribute to append or add the resource id(primary key value) to your request

## Example Usage

```terraform
resource "webrequest_restcall" "call" {
  ignorestatuscode = true
  filter           = "//data"
  key              = "//json/username"

  header = {
    Content-Type = "application/json"
    Accept       = "application/json"
  }

  create = {
    method = "POST"
    url    = "https://httpbin.org/post"
    body   = jsonencode({ "username" : "test", "email" : "test@example.com" })
  }

  read = {
    method = "GET"
    url    = "https://httpbin.org/get/{ID}"
    body   = jsonencode({ "id" : "{ID}", "username" : "test", "email" : "test@example.com" })
  }

  update = {
    method = "PUT"
    url    = "https://httpbin.org/put"
    body   = jsonencode({ "username" : "test", "email" : "test@example.com" })
  }

  delete = {
    method = "DELETE"
    url    = "https://httpbin.org/delete"
    body   = jsonencode({ "username" : "test", "email" : "test@example.com" })
  }

  lifecycle {
    postcondition {
      condition     = self.statuscode == 200
      error_message = "Received Statuscode should be http/200"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `body` (String) request body
- `create` (Attributes) manipulate the behavior for object creation (see [below for nested schema](#nestedatt--create))
- `delete` (Attributes) manipulate the behavior for deleting the object (see [below for nested schema](#nestedatt--delete))
- `filter` (String) JSON path expression to filter selective the value of attribute result. The expression based on XPath
- `header` (Map of String) map of request header
- `ignorestatuscode` (Boolean) ignores the statuscode on response validation
- `key` (String) primary key of the received object, to generate/manipulate the request url, use a JSON path expression to get the right value. The expression based on XPath
- `read` (Attributes) manipulate the behavior for reading the object (see [below for nested schema](#nestedatt--read))
- `update` (Attributes) manipulate the behavior for updating the object (see [below for nested schema](#nestedatt--update))
- `url` (String) request url

### Read-Only

- `id` (String) received object identifier
- `result` (String) received JSON object as string representation
- `statuscode` (Number) received http statuscode

<a id="nestedatt--create"></a>
### Nested Schema for `create`

Required:

- `method` (String) HTTP Method to use for the request
- `url` (String) Request URL to create the JSON Object.

Optional:

- `body` (String) Custom request body for the request
- `keepid` (Boolean) Flag to keep the initial resource id, even when the response contains a new one


<a id="nestedatt--delete"></a>
### Nested Schema for `delete`

Required:

- `method` (String) HTTP Method to use for the request
- `url` (String) Request URL to delete the JSON Object.

Optional:

- `body` (String) Custom request body for the request
- `keepid` (Boolean) Flag to keep the initial resource id, even when the response contains a new one


<a id="nestedatt--read"></a>
### Nested Schema for `read`

Required:

- `method` (String) HTTP Method to use for the request
- `url` (String) Request URL to read the JSON Object.

Optional:

- `body` (String) Custom request body for the request
- `keepid` (Boolean) Flag to keep the initial resource id, even when the response contains a new one


<a id="nestedatt--update"></a>
### Nested Schema for `update`

Required:

- `method` (String) HTTP Method to use for the request
- `url` (String) Request URL to update the JSON Object.

Optional:

- `body` (String) Custom request body for the request
- `keepid` (Boolean) Flag to keep the initial resource id, even when the response contains a new one


